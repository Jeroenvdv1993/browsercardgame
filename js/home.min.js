!function e(n,t,r){function i(a,d){if(!t[a]){if(!n[a]){var s="function"==typeof require&&require;if(!d&&s)return s(a,!0);if(l)return l(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var o=t[a]={exports:{}};n[a][0].call(o.exports,(function(e){return i(n[a][1][e]||e)}),o,o.exports,e,n,t,r)}return t[a].exports}for(var l="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,n,t){this.id=e,this.name=n,this.value=t};t.Card=r},{}],2:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,n,t,r,i){this.playerHeader=document.getElementById(e),this.handUL=document.getElementById(n),this.deckSpan=document.getElementById(t),this.playzoneUL=document.getElementById(r),this.discardpileSpan=document.getElementById(i)}return e.prototype.setPlayerHeader=function(e){null!==this.playerHeader&&(this.playerHeader.innerText=e)},e.prototype.setDeckSpan=function(e){null!==this.deckSpan&&(this.deckSpan.innerText=e)},e.prototype.setDiscardpileSpan=function(e){null!==this.discardpileSpan&&(this.discardpileSpan.innerText=e)},e.prototype.clearHandUL=function(){this.clearUL(this.handUL)},e.prototype.clearPlayzoneUL=function(){this.clearUL(this.playzoneUL)},e.prototype.clearUL=function(e){if(null!==e)for(;e.firstChild;)e.removeChild(e.firstChild)},e}();t.Field=r},{}],3:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,l=e("./player"),a=e("./field"),d=e("./selectedCard"),s=new l.Player(1),u=new l.Player(2),o=document.getElementById("reset"),c=document.getElementById("play"),h=document.getElementById("game"),p=new a.Field("player","hand","deck","playzone","discardpile"),f=new a.Field("otherPlayer","otherHand","otherDeck","otherPlayzone","otherDiscardpile"),y=new d.SelectedCard;function m(){s.reset(),s.shuffle(),v(s,3),u.reset(),u.shuffle(),v(u,3),r=null,i=null,p.setPlayerHeader(""),null!==c&&(c.innerText="Start"),null!==h&&(h.hidden=!0),p.clearHandUL(),p.clearPlayzoneUL(),f.clearHandUL(),f.clearPlayzoneUL()}function g(e,n){if(null!==e){for(;e.firstChild;)e.removeChild(e.firstChild);for(var t=0;t<n.length;t++){var r=document.createElement("img");r.classList.add("img-fluid"),r.src="../img/c_"+n[t].id+".jpg";var i=document.createElement("li");i.appendChild(r),e.appendChild(i)}}}function k(e){!function(e){if(null!==f.handUL){f.clearHandUL();for(var n=0;n<e.hand.length;n++){var t=document.createElement("img");t.classList.add("img-fluid"),t.src="../img/cb_0.jpg";var r=document.createElement("li");r.appendChild(t),f.handUL.appendChild(r)}}}(e),f.setDeckSpan(""+e.deck.length),g(f.playzoneUL,e.playzone),f.setDiscardpileSpan(""+e.discardpile.length)}function C(e){!function(e){if(null!==p.handUL){p.clearHandUL();for(var n=0;n<e.hand.length;n++){var t=document.createElement("img");t.classList.add("img-fluid"),t.src="../img/c_"+e.hand[n].id+".jpg";var r=document.createElement("li");r.appendChild(t),p.handUL.appendChild(r)}}}(e),p.setDeckSpan(""+e.deck.length),g(p.playzoneUL,e.playzone),p.setDiscardpileSpan(""+e.discardpile.length)}function v(e,n){void 0===n&&(n=1),e.draw(n)&&C(e)}function w(e){var n=e.src,t=n.lastIndexOf("/");if(t>=0&&t<n.length){var r=n.substr(0,t+1),i=n.substr(t+1);"cs_"==i.slice(0,3)?i=i.slice(0,1)+i.substr(2):"c_"==i.slice(0,2)&&(i=i.slice(0,1)+"s"+i.substr(1)),e.src=r+i}}m(),null!==o&&(o.onclick=function(){m()}),null!==c&&(c.onclick=function(){if(null!==c)switch(c.innerText){case"Start":!function(){if(i=null,null!==(r=s)){p.setPlayerHeader("Player "+r.id),C(r);var e=u;f.setPlayerHeader("Player "+e.id),k(e)}null!==h&&(h.hidden=!1),null!==c&&(c.innerText="End Turn")}();break;case"Player 1":case"Player 2":!function(){if(r=i,i=null,null!==r&&(v(r,3),p.setPlayerHeader("Player "+r.id),C(r)),null!==r){var e=null;null!==(e=1===r.id?u:s)&&(f.setPlayerHeader("Player "+e.id),k(e))}null!==h&&(h.hidden=!1),null!==c&&(c.innerText="End Turn")}();break;case"End Turn":null!==h&&(h.hidden=!0),null!==c&&(r===s?(i=u,c.innerText="Player 2"):(i=s,c.innerText="Player 1"),r=null)}}),document.onmousedown=function(e){if(0==e.button){var n=e.target,t=n.nodeName;if(null!==t)switch(t){case"IMG":!function(e){var n=e.src,t=n.lastIndexOf("/");if(t>=0&&t<n.length){n.substr(0,t+1);"c_"==n.substr(t+1).slice(0,2)&&(null!==y.image&&w(y.image),w(e),y.image=e,y.ulID=function(){var e=y.image.parentNode.parentNode;if(null!==e&&"UL"==e.nodeName)return e.id;return null}(),y.ulIndex=function(){if("hand"===y.ulID)for(var e=y.image.parentNode.parentNode.getElementsByTagName("li"),n=0;n<e.length;n++)if(e[n].getElementsByTagName("img")[0]===y.image)return n;return null}())}}(n);break;case"UL":n===p.playzoneUL&&null!==r&&null!==y.ulIndex&&(i=r,l=y.ulIndex,i.play(l),C(i),y.empty());break;default:null!==y.image&&(w(y.image),y.empty())}}var i,l}},{"./field":2,"./player":4,"./selectedCard":5}],4:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("./card"),i=e("./shuffle"),l=function(){function e(e){this.hand=[],this.deck=[],this.playzone=[],this.discardpile=[],this.points=0,this.id=e,this.reset()}return e.prototype.shuffle=function(){i.shuffle(this.deck)},e.prototype.draw=function(e){if(void 0===e&&(e=1),this.deck.length>=e){for(var n=0;n<e;n++)this.hand.push(this.deck[this.deck.length-1]),this.deck.pop();return!0}return!1},e.prototype.reset=function(){this.points=0,this.hand=[],this.deck=[],this.playzone=[],this.discardpile=[],this.deck.push(new r.Card(0,"zero",0)),this.deck.push(new r.Card(0,"zero",0)),this.deck.push(new r.Card(0,"zero",0)),this.deck.push(new r.Card(0,"zero",0)),this.deck.push(new r.Card(0,"zero",0)),this.deck.push(new r.Card(1,"one",1)),this.deck.push(new r.Card(1,"one",1)),this.deck.push(new r.Card(1,"one",1)),this.deck.push(new r.Card(1,"one",1)),this.deck.push(new r.Card(1,"one",1)),this.deck.push(new r.Card(2,"two",2)),this.deck.push(new r.Card(2,"two",2)),this.deck.push(new r.Card(2,"two",2)),this.deck.push(new r.Card(2,"two",2)),this.deck.push(new r.Card(2,"two",2)),this.deck.push(new r.Card(3,"three",3)),this.deck.push(new r.Card(3,"three",3)),this.deck.push(new r.Card(3,"three",3)),this.deck.push(new r.Card(3,"three",3)),this.deck.push(new r.Card(3,"three",3)),this.deck.push(new r.Card(4,"four",4)),this.deck.push(new r.Card(4,"four",4)),this.deck.push(new r.Card(4,"four",4)),this.deck.push(new r.Card(4,"four",4)),this.deck.push(new r.Card(4,"four",4))},e.prototype.play=function(e){this.moveCard(this.hand,e,this.playzone)},e.prototype.discard=function(e){this.moveCard(this.playzone,e,this.discardpile)},e.prototype.moveCard=function(e,n,t){var r=e[n];null!==r&&(this.removeCard(e,r),t.push(r))},e.prototype.removeCard=function(e,n){var t=e.indexOf(n,0);t>-1&&e.splice(t,1)},e}();t.Player=l},{"./card":1,"./shuffle":6}],5:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.image=null,this.ulID=null,this.ulIndex=null}return e.prototype.empty=function(){this.image=null,this.ulID=null,this.ulIndex=null},e}();t.SelectedCard=r},{}],6:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=function(e){for(var n,t,r=e.length;0!==r;)t=Math.floor(Math.random()*r),n=e[r-=1],e[r]=e[t],e[t]=n}},{}]},{},[3]);
